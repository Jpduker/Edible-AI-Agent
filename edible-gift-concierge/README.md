# ğŸ“ Edible Gift Concierge

An AI-powered gift discovery experience for Edible Arrangements. Ask about any occasion, budget, or recipient â€” and get personalized product recommendations from the live Edible catalog.

> **Built with**: Next.js 16 Â· Claude Sonnet 4 Â· Vercel AI SDK v6 Â· TypeScript

---

## Quick Start

```bash
# 1. Install dependencies
npm install

# 2. Set up environment variables
cp .env.example .env.local
# Edit .env.local and add your Anthropic API key

# 3. Run the development server
npm run dev
```

Open [http://localhost:3000](http://localhost:3000) to start chatting.

---

## Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Browser                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ useChat() â”‚â†’â”‚ ChatInterfaceâ”‚              â”‚
â”‚  â”‚ (AI SDK)  â”‚ â”‚ ProductCard  â”‚              â”‚
â”‚  â”‚           â”‚ â”‚ QuickReplies â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚         â”‚                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         â†“        Next.js Server              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ /api/chat     â”‚â”€â”€â†’â”‚ Claude Sonnet 4   â”‚   â”‚
â”‚  â”‚ (streamText)  â”‚â†â”€â”€â”‚ search_products   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ tool              â”‚   â”‚
â”‚         â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â†“                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚ /api/search    â”‚â”€â”€â†’ ediblearrangements.com â”‚
â”‚  â”‚ (proxy)        â”‚â†â”€â”€ /api/search/          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Key Flow**: User message â†’ Claude reasons about intent â†’ calls `search_products` tool â†’ proxy fetches live products from Edible API â†’ Claude curates results â†’ streamed response with product cards.

---

## Project Structure

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/chat/route.ts      # AI orchestration (Claude + tool use)
â”‚   â”œâ”€â”€ api/search/route.ts    # Edible API proxy
â”‚   â”œâ”€â”€ page.tsx               # Main page
â”‚   â”œâ”€â”€ layout.tsx             # Root layout + SEO
â”‚   â””â”€â”€ globals.css            # Brand design system
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ChatInterface.tsx      # Chat orchestrator (useChat hook)
â”‚   â”œâ”€â”€ MessageBubble.tsx      # User/AI message rendering
â”‚   â”œâ”€â”€ ProductCard.tsx        # Product recommendation cards
â”‚   â”œâ”€â”€ QuickReplies.tsx       # Contextual reply buttons
â”‚   â”œâ”€â”€ TypingIndicator.tsx    # Animated loading state
â”‚   â”œâ”€â”€ WelcomeScreen.tsx      # Initial landing experience
â”‚   â””â”€â”€ Header.tsx             # Brand header
â””â”€â”€ lib/
    â”œâ”€â”€ edible-api.ts          # API client + data normalization
    â”œâ”€â”€ system-prompt.ts       # Claude's persona & rules
    â”œâ”€â”€ tools.ts               # Tool schema definitions
    â””â”€â”€ types.ts               # TypeScript interfaces
```

---

## Key Features

- **Conversational Gift Discovery** â€” Natural language chat powered by Claude Sonnet 4
- **Live Product Search** â€” Real-time product data from the Edible Arrangements API (no hardcoded products)
- **Anti-Hallucination** â€” The AI NEVER invents products; all recommendations come from verified API searches
- **Smart Quick Replies** â€” Contextual suggestion buttons generated by the AI after each response
- **Streaming Responses** â€” Token-by-token streaming for sub-second perceived latency
- **Branded Design** â€” Edible Arrangements color palette, typography, and warm tone throughout
- **Mobile Responsive** â€” Touch-friendly, compact cards, scrollable quick replies

---

## Design Decisions

See [DESIGN_DECISIONS.md](./DESIGN_DECISIONS.md) for a comprehensive record of 50+ design, architectural, and business decisions with reasoning.

---

## Environment Variables

| Variable | Required | Description |
|----------|----------|-------------|
| `ANTHROPIC_API_KEY` | âœ… | Your Anthropic API key for Claude |

---

## Tech Stack

| Layer | Technology |
|-------|-----------|
| Framework | Next.js 16 (App Router) |
| AI Model | Claude Sonnet 4 (claude-sonnet-4-20250514) |
| AI SDK | Vercel AI SDK v6 (`ai`, `@ai-sdk/anthropic`, `@ai-sdk/react`) |
| Language | TypeScript |
| Styling | Tailwind CSS + Custom CSS Variables |
| Font | DM Sans (Google Fonts) |
| Deployment | Vercel |

---

## License

This is a proof-of-concept project. Not affiliated with Edible Arrangements.
